# 用户配置文件(/etc/passwd)
~~~shell
man 5 passwd # 查看配置文件的帮助信息
#文件格式每行代表一个用户，行中以 : 分隔，一共有7个字段
#第一字段：用户名
#第二字段：密码标志，一般是x，代表密码存在，空代表密码不存在但是不可远程登录，而真实的密码在/etc/shadow文件在
#第三字段：UID，用户的ID，多个用户的ID可以重复，0是管理员（超级用户），1到499是系统用户（在centos7中是1到999），500到65535是普通用户
#第四字段：GID，用户初始组的ID
#第五字段：用户的备注信息
#第六字段：用户的家目录，root的家目录是/root/，普通用户的家目录是/home/用户名/
#第七字段：登录之后的Shell，一般是/bin/bash，如果是/sbin/nulogin则代表无法登录﻿​

# 注意如果将一个普通用户的UID改为0，那么这个普通用户将拥有root权限
# 不要随意的修改删除系统用户用户
# shell是linux内核的命令解释器，作用是将用户输入的命令解释后交给linux内核，linux的标准shell是/bin/bash，
# 如果需要修改/etc/passwd文件请提前做备份
~~~
---

# 影子(密码)文件(/etc/shadow)，只有root有权限查看
~~~shell
man 5 shadow # 查看配置文件的帮助信息
#文件格式每行代表一个用户，行中以 : 分隔，一共有9个字段
#第一字段：用户名
#第二字段：加密后的密码，!!和*代表没有密码是系统用户不可以登录，可以给普通用户设置密码开头添加!!来禁用普通用户
#第三字段：密码的最后一次修改时间(1970年1月1日之后第几天，如果是0，则用户登录之后必须修改密码)
#第四字段：两次密码修改密码的时间间隔，时间间隔之内无法修改密码(单位是天)
#第五字段：密码修改后的有效期(单位是天)
#第六字段：密码有效期之前多少天提醒更改密码
#第七字段：密码有效期之后宽限多少天，空代表0，-1代表密码永远不失效
#第八字段：密码的失效时间(使用时间戳)，强制失效就算在密码有效期内密码也会失效
#第九字段：保留字段(不使用)﻿​
~~~
---

# 用户组信息文件(/etc/group) 和 用户组密码文件(/etc/gshadow)
~~~shell
# 用户组信息文件(/etc/group)
man 5 group # 查看配置文件的帮助信息
#文件格式每行代表一个组，行中以 : 分隔，一共有9个字段
#第一字段：组名
#第二字段：组密码标志，一般是x
#第三字段：GID
#第四字段：组中附加用户名
 
# 用户组密码文件(/etc/gshadow)
man 5 gshadow # 查看配置文件的帮助信息
#文件格式每行代表一个组，行中以 : 分隔，一共有9个字段
#第一字段：组名
#第二字段：组加密密码，组管理员知道组密码可以添加用户进组和将组内成员踢出组，不推荐使用，原因是该权限应该只有root才有权限
#第三字段：组管理员用户名
#第四字段：组中附加用户名﻿​
~~~
---

# 用户的家目录、邮箱目录、模板目录
~~~
普通用户的家目录：/home/用户名/ ，所有者和所属组都是自己，权限是700
root用户的家目录：/root/，所有者和所属组是root，权限是550
用户的邮箱：/var/spool/mail/用户名/
用户的模板目录：/etc/skel/ ，在创建用户的时候会将模板目录之下的文件添加的新用户的家目录之下
~~~
---

# 用户创建时的配置文件
~~~shell
用户创建时的配置文件(/etc/default/useradd)
man 5 useradd # 查看配置文件的帮助信息
GROUP=100                      #用户默认组，在公有linux模式下生效
HOME=/home                     #用户家目录
INACTIVE=-1                    #密码过期宽限天数，-1代表永不过期，/etc/shadow的第7字段
EXPIRE=                        #密码过期时间，/etc/shadow的第8字段
SHELL=/bin/shell               #默认是shell，/etc/passwd的第7字段                                           
SKEL=/etc/skel                 #模板目录，在创建用户的时候会将模板目录之下的文件和目录添加的新用户的家目录之下﻿
CREATE_MAIL_SPOOL=yes          #是否建立邮箱

用户创建时的配置文件(/etc/login.defs)
man 5 useradd # 查看配置文件的帮助信息
PASS_MAX_DAYS           99999      #密码有效期，/etc/shadow的第5字段
PASS_MIN_DAYS           0          #密码修改间隔时间，/etc/shadow的第4字段
PASS_MIN_LEN            5          #密码最短长度，早期的linux系统是有效的，现在的都是PAM
PASS_WARN_AGE           7          #密码到期前多少天警告，/etc/shadow的第6字段
UID_MIN                 1000       #UIP的范围
GID_MAX                 60000      #GID的范围
ENCRYPT_METHOD          SHA512     #密码加密方式﻿​
~~~
---