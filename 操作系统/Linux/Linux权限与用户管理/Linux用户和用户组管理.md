~~~shell
# 创建用户，需要root权限，默认新创建的用户密码是随机生成的，需要使用passwd设置新用户密码
useradd [新用户名]
# -u参数手动指定新用户的UID，不推荐手动指定
# -d参数手动指定新用户的家目录，默认是 /home/新用户 手动指定需要该家目录存在，不推荐手动指定
# -c参数手动指定用户的说明，/etc/passwd的第5字段，例如 -c "test user"
# -g参数手动指定用户的初始组，默认每次创建一个用户都会创建一个与新用户名相同的组作为初始组，禁止修改用户的初始组
# -G参数指定用户的附加组，多个附加组使用逗号分隔，例如 -G root,bin
# -s参数手动指定用户登录的shell，默认是/bin/bash

# 设置用户密码，需要root权限或者用户本身
passwd [用户名]
# 给当前用户自己设置密码直接passwd就行了
# -S参数，添加-S参数需要root权限，显示用户信息，例如root PS 2022-10-13 7 99999 7 -1 (Password set, SHA512 crypt.) 表示最后一次密码修改时间是2022-10-13、密码间隔设置时间是7天、密码有效期是99999天、密码到期前7天警告密码即将过期、-1表示密码的过期不失效、SHA512表示密码加密
# -l参数，添加-l参数需要root权限，禁用锁定用户，其实就是修改/etc/shadow文件中对应用户的加密密码在加密密码前添加!!
# -u参数，添加-u参数需要root权限，禁用锁定用户，其实就是修改/etc/shadow文件中对应用户的加密密码,去除加密密码前的!!
# --stdin参数，从标准输入中读取。例如 echo "123" | passwd --stdin dirondhw 将标准输出123当成标准输入作为dirondhw的新密码，密码有泄漏风险，不推荐这样设置密码

# 删除用户，需要root权限或者用户本身
userdel [参数] [用户名]
# -r参数连带用户的家目录一起删除

# 修改用户信息，需要root权限或者用户本身
usermod [用户名]
# -u参数手动指定用户的UID，不推荐手动指定
# -d参数手动指定用户的家目录，默认是 /home/新用户 手动指定需要该家目录存在，不推荐手动指定
# -c参数手动指定用户的说明，/etc/passwd的第5字段，例如 -c "test user"
# -g参数手动指定用户的初始组，默认每次创建一个用户都会创建一个与新用户名相同的组作为初始组，禁止修改用户的初始组
# -G参数指定用户的附加组，多个附加组使用逗号分隔，例如 -G root,bin
# -s参数手动指定用户登录的shell，默认是/bin/bash
# -L参数，添加-L参数需要root权限，禁用锁定用户，其实就是修改/etc/shadow文件中对应用户的加密密码在加密密码前添加!!
# -U参数，添加-U参数需要root权限，禁用锁定用户，其实就是修改/etc/shadow文件中对应用户的加密密码,去除加密密码前的!!

# 修改用户密码设置，需要root权限或者用户本身
chage [参数] [用户名]
# -d参数修改用户的最后一次登录时间，如果设置为0则任务用户从来没有登录过而第一次登录后系统要求重新设置密码，例如chage -d 0 dirondhw
# 其他参数基本都是修改/etc/shadow文件

# 添加用户组
groupadd [参数] [组名]
# -g参数手动指定组ID，不推荐使用

# 修改组信息
groupmod [参数] [组名]
# -g参数手动修改组ID，不推荐使用
# -n参数修改组名，例如 groupmod -n newGroupname oldGroupname，不推荐使用

# 删除组
groupdel [组名]
# 注意如果有以组作为初始组的用户存在，那么这个组不能被删除，如果只是以该组作为附加组的用户存在，那么这个组可以被删除

# 用户添加或踢出组
gpasswd [参数] [用户名] [组名]
# -a参数添加用户进组
# -d参数将用户踢出组

# 查看登录的用户简短信息
who
# 显示4列，第一列是当前已经登录的所有用户名，第二列是登录的终端，第三列是登录的时间，第四列是登录的主机ip地址
# tty是本地终端，pts是远程登录

# 查看登录的用户详细信息
w
# 显示的第一行（可以使用uptime命令只查看第一行），例如 12:05:13 up 18 days,  1:28,  2 users,  load average: 1.27, 1.35, 1.42
# 12:05:13 up 18 days,  1:28 表示当前系统的使用以及该系统正常运行了18天1小时28分钟
# 2 users 表示当前有两个用户登录
# load average: 1.27, 1.35, 1.42 分别表示过去1分钟、5分钟、15分钟系统cpu和内存结合的负载情况，数字越大则负载越大
# 第一行之外的内容有8列，前四列的信息与who命令看到的一致
# IDLE显示的shell连接后的闲置时间，即连接后没有操作的时间
# JCPU显示累计占用cpu的时间
# PCPU显示最后一次执行的操作占用cpu的时间
# WHAT显示最后一次执行的操作

# 列出计算机所有登录过的信息
last 
# 一个有5列，第一列是登录的用户名，第二列是登录的终端，第三列是登录的终端，第四列是登录的起始和退出时间以及登录的持续时间
# 注意reboot用户是重启电脑

# 列出所有用户最后一次的登录时间
lastlog
# -u参数指定用户的名称，表示这查看这个用户的信息

# 查看当前用户的id号
id [username]
~~~