# 常用的命令
~~~shell
#查看文件或目录信息，后面接文件或目录的路径，默认不加则查看当前目录
ls 
# 添加-a参数则表示显示目录下的所有文件包括隐藏文件也一同显示，隐藏文件表示系统文件一般不要修改除非明确知道具体隐藏文件的意义

# 添加-l参数则表示显示详细信息一共7列依次是文件目录的权限、文件目录被引用次数（一般是硬链接）、文件目录的所有者、文件目录的所属组、文件目录大小（默认单位是字节，如果需要方便查看请追加-h参数，注意如果是目录显示的是目录下的第一级子目录名称和子文件名称所占用的大小）、文件的最后一次修改时间、文件目录的名称
# 其中第一列文件目录的权限有11个字符组成，第一个字符是代表文件的类型："-"、"d"、"l"、"c"。分别代表二进制文件、目录、软链接文件、c表示一次性读取设备如鼠标键盘等
# 中间的九个分为3组，第1组为u代表用户所有者权限，第2组为g代表用户所有组权限，第3组为o代表其他人权限
# 每组的权限字符是rwx，分别代表读、写、执行权限，如果其中的权限字符是-就代表没有对应位置的权限
# 最后一个字符代表特殊权限.代表没有ACL权限，+代表有ACL权限

# -d参数，当后面接的是目录时会只显示目录的信息，而不会显示目录下的文件信息
# -i参数，显示文件目录的id号，与-l参数同时使用id号会显示在第一列

# -R参数，用于显示目录下的文件，目录下所有后代目录下的文件

# 使用以树状图的形式列出目录内容及结构
tree [目录]

# stat命令用于查看文件的具体存储细节和时间等信息
stat [目录或文件]
# 文件大小
# Access Time（内容最后一次被访问的时间，简称为Atime），Modify Time（内容最后一次被修改的时间，简称为Mtime）以及Change Time（文件属性最后一次被修改的时间，简称为Ctime）
# 设备ID
# Inode 显示文件目录的id号
# 软硬链接 数量
# 权限：(0644/-rw-r--r--)  Uid：(    0/    root)  Gid：(    0/    root) 

#创建一个目录，后面接目录路径，可以接多个目录路径创建多个路径
mkdir
# -p参数，递归创建目录

#切换当前目录，后面接目录路径，.代表当前目录，..代表当前目录的上级目录，~代表当前用户的家目录当然直接执行cd不加参数也是回到家目录，-代表上一次cd切换目录执行时所在的目录
cd 

#显示当前目录的绝对路径
pwd

#删除空的目录（只能删除空目录，如果需要删除非空目录请使用rm），后面接空目录路径
rmdir [目录名]

#创建文件，可以同时创建多个文件
touch [文件名]

#复制文件或目录，可以复制多个原文件或目录，复制的同时还可以修改文件或目录的名称
cp -rp [原文件] [新文件目录]
# -r参数，表示复制目录，目录的复制规则：如果目标目录存在则拷贝到目标目录内部，不存在就是改名并拷贝
# -p参数或-a参数，表示复制的文件保留原有属性，即保存文件的修改时间
# 文件的拷贝规则：目标目录存在则拷贝到目标目录内部，不存在直接提示找不到目标目录，如果目标不是一个目录而是一个文件当文件存在则会提示是否覆盖，如果目标文件是一个不存在的文件，则拷贝文件（如果目标文件与原文件的名称不一致则相当于改名拷贝）


#剪切文件目录、文件目录名称修改，可以同时剪切多个原文件或目录，只能修改一个文件或目录
mv [原文件] [新文件目录]
# 目录的剪切规则：如果目标目录存在则剪切到目标目录内部，不存在就是改名并剪切
# 文件的剪切规则：目标目录存在则剪切到目标目录内部，不存在直接提示找不到目标目录，如果目标不是一个目录而是一个文件当文件存在则会提示是否覆盖，如果目标文件是一个不存在的文件，则剪切文件（如果目标文件与原文件的名称不一致则相当于改名剪切）

#删除文件或目录
rm -rf [文件或目录]
# -r参数递归删除目录
# -f强制删除
# rm 删除文件的本质是文件inode节点对应的硬连接减1，当硬连接数为0时修改inode节点位图表，标记该inode节点可用，即物理磁盘空间可用
# 所以rm删除的文件在理论上不操作磁盘是可以恢复数据的，但是通过 srm 删除的文件数据是无法恢复的

#查看文件内容
cat [文件名]
# -n参数，同时显示行号

#倒立显示文件内容
tac [文件名]

# 查看历史命令
history
# 其实看的是cat ~/.bash_history
# -c参数可以清空历史记录
# 使用!数字 可以直接执行历史中指定数字的命令

# 时间命令
date 
# -d "@时间戳" 将时间戳转换为年月日方便查看
~~~

# 文件权限修改
~~~shell
#修改文件目录权限的修改方式1，只有文件的所有者和root有权限修改文件的权限
chmod [{ugoa}{+-=}{rwx}] [文件或目录]
# u代表文件所有者，g代表文件的所属组，o代表其他人，a代表all即前面的ugo全部，同时操作多种类型使用逗号隔开
# +代表添加对应的权限，-代表去除对应的权限，=代表具有对应的权限
# rwx代表文件的读写执行权限
# -R参数代表递归设置目录下的所有子目录和文件的权限

#修改文件目录权限的修改方式2，只有文件的所有者和root有权限修改文件的权限
chmod [三个0到7的数字] [文件或目录]
# 读写执行的权限分别是4、2、1，读写执行的权限相加就是一个0到7之内的数字
# 相对应的第一个数字代表文件所有者的读写执行权限，第二个数字代表文件所属组的读写执行权限，第三个数字代表其他人的读写执行权限

# rwx权限针对目录和文件有不同的解释
# r权限针对文件是可以读取文件内容，针对目录是可以列出目录下的信息
# w权限针对文件是可以修改文件内容，针对目录是可以在目录在创建、删除文件、在该目录下修改文件的名称、无法剪切复制到其他目录
# x权限针对文件是可以执行文件，针对目录是可以在进入目录

#修改文件的所有者，必须有root权限
chown [用户名] [文件或目录]
# 新的文件所有者

#修改文件的所属组，必须有root权限
chgrp [用户组] [文件或目录]
# 新的文件所属组

#显示新建目录和文件的默认权限
umask -S
# -S参数表示以ugo和rwx来显示新建目录的默认权限
# 不加-S参数显示的4个数字中第一个是特殊权限，后面3个数字是不同用户对目录缺少的权限
# 注意新建文件的权限相比umask -S查看的默认权限要少x执行权限，Linux这么做的原因是病毒文件一定是可执行的，这么做的可以防范直接创建病毒文件

#修改新建文件目录的默认权限
umask 022 
# 设置的权限是实际的 777-022 = 755 ，也就是设置的755权限
~~~

# 文件名搜索和文件内容搜索
~~~shell
# 文件或目录搜索
find [搜索范围] [匹配条件]
# 搜索范围一般是一个目录
# 匹配条件-name参数根据文件名(区分大小写，不区分大小写使用-iname)搜索，例如 find / -name init.text 如果要模糊查询使用通配符*、?等
# 匹配条件-size参数根据文件大小搜索，+、-、=代表大于小于等于单位是数据块或者是写单位[bcwkMG]，一个数据块是0.5kb,例如 find / -size -2048 搜索小于1mb的文件 或者是 find / -size -1M
# 匹配条件-user参数根据文件的所有者搜索，例如find / -user root 搜索文件所有者是root的文件
# 匹配条件-group参数根据文件的所有者搜索，例如find / -group root 搜索文件所属组是root的文件
# 匹配条件-amin参数根据文件被访问时间搜索，例如find / -amin -5 搜索在5分钟内被访问过的文件，如果是+5就是5分钟之外
# 匹配条件-cmin参数根据文件被访问时间搜索，例如find / -cmin -5 搜索在5分钟内被修改文件属性的文件，如果是+5就是5分钟之外
# 匹配条件-mmin参数根据文件被访问时间搜索，例如find / -mmin -5 搜索在5分钟内被修改文件内容的文件，如果是+5就是5分钟之外
# 匹配条件-type参数根据文件类型搜索，例如find / -type f 搜索二进制文件，f、d、l、c、b、p、s分别表示二进制文件、目录、软链接文件、字符设备文件、块设备文件、管道文件、socket文件
# 匹配条件-inum参数根据文件ID搜索，例如find / -inum 7737860 搜索文件ID是7737860的文件（原文件以及硬链接文件）

# 匹配条件-a参数表示and，也就是连接两个匹配条件查找交集，例如 find / -size +2048 -a -size -204800 搜索大于1mb并且小于100mb的文件
# 匹配条件-o参数表示or，也就是连接两个匹配条件查找并集，例如 find / -size -2048 -a -size +204800 搜索小于1mb或者大于100mb的文件

# -exec参数或者是-ok参数(会询问是否执行命令)对搜索的结果执行命令，例如 find / -name init -exec ls -lh {} \; 对搜索的init文件执行ls -lh命令
# 通过管道将输入当成其他命令的输出（当查找出的文件过多的时候建议使用这种） find / -name init | xargs ls -lh


# 文件内容的搜索，查找文件在存在搜索内容的行并全部列出来
grep [搜索内容] [文件]
# -r参数会进行目录递归查找
# -i参数针对搜索的内容不区分大小写全部列出来
# -n参数显示行号
# -v参数针对搜索内容之外的其他所有行，例如 grep ^# test.text 查看test.text文件中除了以#开头的其他所有行
~~~