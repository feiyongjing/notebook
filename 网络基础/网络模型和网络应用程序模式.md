# OSI七层模型从上到下依次是：

- 应用层：为客户提供各种服务，例如 ftp服务、ssh服务、email服务、http服务等
- 表示层：主要是数据压缩、编码工作。格式有JPEG、ASCll、DECOIC、加密格式等
- 会话层：本地主机与远程主机通过的通道就是会话，而会话层就是建立、管理、终止会话。
- 传输层：定义传输数据的协议和端口号。协议有：TCP UDP，数据包一旦离开网卡就进入网络层了
- 网络层：进行逻辑地址寻址，实现路由选择。协议有：ICMP IGMP IP（IPV4 IPV6） ARP RARP
- 数据链路层：建立逻辑连接、差错校验等功能。将比特组合成字节进而组合成帧，帧是网络传输的基本单位。
- 物理层：通过双绞线或光纤等传输介质建立、维护、断开物理连接，将模拟信号转换为数字信号
---

# TCP/IP四层模型从上到下依次是：

- 应用层：负责用户输入输出数据，例如HTTP,FTP,TELNET,DNS,SMTP等添加HTTP包头、FTP包头指定协议等
- 传输层：负责对数据报文进行分组和重组，例如添加TCP包头指定原端口和目标端口
- 网络层：负责路由以及把分组报文发送给目标网络和主机，例如添加IP包头指定原IP和目标IP进行路由转发
- 网络接口层(链路层)：负责封装以太帧头，处理物理网络接口和数据链路层的协议，例如以太网、Wi-Fi等

#  OSI七层模型 和 TCP/IP四层模型 的对应关系
- TCP/IP四层模型的应用层对应OSI七层模型的应用层、表示层、会话层
- TCP/IP四层模型的传输层对应OSI七层模型的传输层
- TCP/IP四层模型的网络层对应OSI七层模型的网络层
- TCP/IP四层模型的应用层对应OSI七层模型的数据链路层、物理层

# 在网络上一台主机到另一台主机的通信过程（当然这里省去了建立连接的过程）
- 1. 发送方的数据会经过 TCP/IP四层模型 将数据包装在最内层变成 | 网络接口层封装 | 网络层封装 | 传输层封装 | 应用层封装 | 数据 | 这样的数字信号
- 2. 数字信号通过网络层的IP地址在互联网传输到达对应的接收方
- 3. 接收方会对数字信号按照 TCP/IP四层模型 将数据进行层层解析拿到数据

# 网络应用程序模式
- B/S 模式：浏览器和服务端通信的模式，优点的工作量小，使用浏览器通信不受平台的限制，可移植性高。缺点是协议的选择收到限制，只能选择http协议，不能大量缓存数据，传输数据效率受到影响
- C/S 模式：客户端和服务端通信的模式，优点是客户端可以缓存一些数据，减少服务端的网络压力，提高传输效率，并且客户端和服务端一般都是由一个开发团队开发所以通信协议的选择比较灵活，可以在标准的协议之上进行修改裁剪。缺点是工作量大，毕竟需要同时维护客户端和服务端，另外需要将客户端安装在用户的主机上，对于用户主机的安全性构成威胁

# 以太网帧的格式
### 以太网帧的格式就是网络接口层(4层模型)或数据链路层（7层模型）中的协议格式

# 标准以太网帧（RPC 894）的格式
- 目的MAC地址（大小是6个字节）| 源MAC地址（大小是6个字节）| 帧类型（有多种帧类型，大小是2字节） | 数据报（正常大小是46到1500字节之间）| CRC（CRC用于校验数据报，大小是4字节）  
- 常见的类型（大小是2字节，这里的4位数是16进制表示）有 0800、0806、8035。类型决定协议，并且影响后面的数据报。0800 表示接收正常的数据报，0806 表示接收ARP数据报（大小是46字节，前面28字节是ARP数据报，后面的18字节会自动补全），8035 表示接收RARP数据报（大小是28字节，前面28字节是RARP数据报，后面的18字节会自动补全）

### ARP协议类型的以太网帧的格式
- 目的MAC地址（大小是6个字节）| 源MAC地址（大小是6个字节）| 帧类型（大小是2字节，而 ARP类型是0806 ） | ARP数据报（大小是46字节，详情见下面的ARP数据报格式）| CRC（CRC用于校验数据报，大小是4字节）
### ARP数据报格式
- 硬件类型（大小是2个字节）| 协议类型（大小是2个字节）| 硬件地址长度（大小是1个字节，表示的其实就是MAC 地址的长度，即 06）| 协议地址长度（大小是1个字节，表示的其实就是IP 地址的长度，即 04）| op（大小是2个字节，op为 0001 表示是请求数据报， 0002 表示响应数据报）| 源MAC地址（大小是6个字节）| 源IP地址（大小是4个字节）| 目的MAC地址（大小是6个字节）| 目的IP地址（大小是4个字节）







